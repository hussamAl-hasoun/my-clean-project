# ๐ Design and Implementation of a CI/CD Pipeline for a Web Application using Jenkins and Docker on AWS

<div align="center">

![Python](https://img.shields.io/badge/Python-3.9+-3776AB?style=for-the-badge&logo=python&logoColor=white)
![Flask](https://img.shields.io/badge/Flask-2.3+-000000?style=for-the-badge&logo=flask&logoColor=white)
![MySQL](https://img.shields.io/badge/MySQL-8.0+-4479A1?style=for-the-badge&logo=mysql&logoColor=white)
![Docker](https://img.shields.io/badge/Docker-20.10+-2496ED?style=for-the-badge&logo=docker&logoColor=white)
![Jenkins](https://img.shields.io/badge/Jenkins-2.400+-D24939?style=for-the-badge&logo=jenkins&logoColor=white)
![AWS](https://img.shields.io/badge/AWS-EC2-FF9900?style=for-the-badge&logo=amazon-aws&logoColor=white)

**ูุดุฑูุน ุชุฎุฑุฌ - ุชุตููู ูุชูููุฐ ุฎุท ุฃูุงุจูุจ CI/CD ูุชุทุจูู ููุจ ุจุงุณุชุฎุฏุงู Jenkins ู Docker ุนูู AWS**

[ุงููุณุชูุฏุน ุนูู GitHub](https://github.com/hussamAl-hasoun/my-clean-project) โข [ุงูุชูุซูู](#-ุงูุชูุซูู) โข [ุงููุชุงุฆุฌ](#-ุงููุชุงุฆุฌ-ูุงูููุงูุดุฉ)

</div>

---

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูู ุนุงูููุง ุงูุฑููู ุงููุนุงุตุฑุ ูู ูุนุฏ ูููุฐุฌ ุงูุฅุตุฏุงุฑุงุช ุงููุงุฏุฑุฉ ูุงุณุนุฉ ุงููุทุงู ูุงุจูุงู ููุชุทุจูู. ุงูุชุทุจููุงุช ุงูุญุฏูุซุฉ ูุฌุจ ุฃู ุชุชููู ุจุงุณุชูุฑุงุฑ ูุชูุจู ุชููุนุงุช ุงููุณุชุฎุฏููู ุงููุชุบูุฑุฉ ุจุงุณุชูุฑุงุฑ. ูุฐุง ุงููุดุฑูุน ูุทุจู ูุจุงุฏุฆ **DevOps** ู **CI/CD** ุงูุนูููุฉ ูู ุฎูุงู ุจูุงุก ูุธุงู ุฅูุชุงุฌู ูุงูู ูุชุทุจูู ููุจ (ููุตุฉ ุชูููู ุงูููุฑุฑุงุช ุงูุฏุฑุงุณูุฉ).

### ๐ฏ ุงููุฏู ูู ุงููุดุฑูุน

ุจูุงุก ูุธุงู "life-support" ุขูู ูููุงุฆูุงุช ุงูุฑูููุฉ ุงูุญุฏูุซุฉ - ุฅุทุงุฑ ุนูู ููู ูุงุฏุฑ ุนูู ุฅุนุฏุงุฏ ูุงุฎุชุจุงุฑ ูุฏูุฌ ูู ููุฒุฉ ุจุฑูุฌูุฉ ุฌุฏูุฏุฉ ุจุดูู ุขูู ููุณุชูุฑ ุฏูู ุงููุทุงุน. ุงููุดุฑูุน ููุฏู ุฅูู:

- โ **ุชุทุจูู CI/CD ูุงูู**: ุชุตููู ูุชูููุฐ ุฎุท ุฃูุงุจูุจ ูุณุชูุฑ ุชููุงุฆู ุจุงุณุชุฎุฏุงู Jenkins ู Docker ุนูู AWS EC2
- โ **ูุดุฑ ูุณุชูุฑ ุชููุงุฆู**: ุชูููู ุงูููุช ูู Commit ุฅูู Production ุฅูู ุฏูุงุฆู ุจุฏูุงู ูู ุฃูุงู ุฃู ุฃุณุงุจูุน
- โ **ุงูุชุญูู ุงูุนููู**: ุฅุซุจุงุช ูุฌุงุญ ุงููุดุฑูุน ูู ุฎูุงู ููุงููุณ ุงูุฃุฏุงุก ููุนุฏู ูุฌุงุญ ุงููุดุฑ

### ๐ก ุงููุดููุฉ ุงูุชู ูุญููุง ุงููุดุฑูุน

ุงูุงุนุชูุงุฏ ุนูู ุงูุนูููุงุช ุงููุฏููุฉ ูู ุชุทููุฑ ุงูุจุฑูุฌูุงุช ูุคุฏู ุฅูู:
- ๐ด **Integration Hell**: ุชุนุงุฑุถุงุช ุงูููุฏ ูุงูุฃุฎุทุงุก ุนูุฏ ุงูุฏูุฌ
- ๐ด **ุงูุฃุฎุทุงุก ุงูุจุดุฑูุฉ**: ุฃุฎุทุงุก ูุฏููุฉ ุชุณุจุจ ุงููุทุงุนุงุช ููููุฉ
- ๐ด **ุงูุจุทุก ูู ุงูุฅุตุฏุงุฑุงุช**: ููุฏุงู ุงููุฑููุฉ ุงูุชูุงูุณูุฉ

**ุงูุญู**: ูุธุงู CI/CD ุขูู ุจุงููุงูู ูููู ุงูููุช ููุณูู ุจูุณุจุฉ 75%ุ ููููู ูุดู ุงููุดุฑ ุจูุณุจุฉ 60%

---

## โจ ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

### ๐จ ูุงุฌูุฉ ุงููุณุชุฎุฏู
- โ ุชุตููู ุนุตุฑู ูุงุญุชุฑุงูู ุจุฃููุงู ุฃุฒุฑู ูุฐูุจู
- โ ูุชุฌุงูุจ ูุน ุฌููุน ุงูุฃุฌูุฒุฉ (Mobile, Tablet, Desktop)
- โ ูุงุฌูุฉ ุนุฑุจูุฉ ูุงููุฉ ูุน ุฏุนู RTL
- โ ุชุฃุซูุฑุงุช ุจุตุฑูุฉ ุณูุณุฉ ูุญุฏูุซุฉ
- โ ุฑุณูู ุจูุงููุฉ ุชูุงุนููุฉ ููุฅุญุตุงุฆูุงุช

### ๐๏ธ ุงููุธุงุฆู
- โ ุฅุถุงูุฉ ุชููููุงุช ุงูููุฑุฑุงุช ูุน ูุธุงู ุงููุฌูู ุงูุชูุงุนูู
- โ ุนุฑุถ ุฌููุน ุงูุชููููุงุช ุจุดูู ููุธู
- โ ุฅุญุตุงุฆูุงุช ุดุงููุฉ ูุชุญูููุงุช ูุฑุฆูุฉ
- โ ุนุฑุถ ุฌููุน ุงูููุฑุฑุงุช ุงูุฏุฑุงุณูุฉ (21 ููุฑุฑ)
- โ ูุธุงู ุชูููู ุจุณูุท ูุณูู ุงูุงุณุชุฎุฏุงู

### ๐ ุงูุฃูุงู ูุงูุฌูุฏุฉ
- โ ุงูุชุญูู ูู ุงููุฏุฎูุงุช (Input Validation)
- โ ุญูุงูุฉ ูู SQL Injection
- โ ููุฏ ุขูู ูุฌูุฏุฉ ุนุงููุฉ
- โ ุงุฎุชุจุงุฑุงุช ุชููุงุฆูุฉ

---

## ๐๏ธ ุงูุจููุฉ ุงููุนูุงุฑูุฉ ููุฃูุธูุฉ (System Architecture)

ุงูุจููุฉ ุงููุนูุงุฑูุฉ ุงููุทุจูุฉ ูู ูุฐุง ุงููุดุฑูุน ุชูุซู ุญูุงู ุนูููุงู ููููุงู ูุตููุงู ูุชุญููู ุฃุชูุชุฉ CI/CD ูุงููุฉ ุฑุบู ูููุฏ ุจูุฆุฉ ุงูุญุณุงุจ ุงูุฃูุงุฏููู. ุงููุธุงู ูุชุจุน ูุฐู ุงููุณูุฑุฉ ุงูุขููุฉ:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Developer (Local IDE: VS Code)                            โ
โ  โโ git push origin main                                   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                           โ
                           โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  Version Control: GitHub Repository (my-clean-project)      โ
โ  โโ Source of Truth                                         โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                           โ
                           โ GitHub Webhook (HTTP POST)
                           โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  CI/CD Orchestrator: Jenkins on AWS EC2 (t3.small)         โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ Stage 1: Checkout Code                               โ   โ
โ  โ Stage 2: Setup Virtual Env & Install Dependencies    โ   โ
โ  โ Stage 3: Lint & Quality Check (flake8)               โ   โ
โ  โ Stage 4: Security Scan (safety)                     โ   โ
โ  โ Stage 5: Unit Tests (pytest)                         โ   โ
โ  โ Stage 6: Build Docker Image                          โ   โ
โ  โ Stage 7: Deploy to Production (Port 5000)           โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                           โ
                           โ Docker Container
                           โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  AWS EC2 Instance (t3.small, Amazon Linux 2)                โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ  โ  Docker Container: my-flask-app-container           โ   โ
โ  โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ   โ
โ  โ  โ  Flask Application (Python 3.9)                โ โ   โ
โ  โ  โ  Port: 5000                                     โ โ   โ
โ  โ  โ  Network: --network="host"                     โ โ   โ
โ  โ  โ  DNS: --dns=8.8.8.8                            โ โ   โ
โ  โ  โ  Restart: --restart always                     โ โ   โ
โ  โ  โโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ   โ
โ  โ                    โ                                   โ   โ
โ  โโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ   โ
โ                       โ mysql-connector-python                โ
โ                       โ Port 3306                             โ
โ                       โผ                                       โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ     โ
โ  โ  Amazon RDS MySQL Database                         โ     โ
โ  โ  Instance: database-1 (db.t4g.micro)              โ     โ
โ  โ  Database: coursereviews                           โ     โ
โ  โ  Table: reviews (UTF8MB4)                         โ     โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                           โ
                           โ HTTP Response
                           โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  End User (Web Browser)                                      โ
โ  URL: http://[EC2_Public_IP]:5000                            โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ุชูุงุตูู ุงููุฑุงุญู (Stage Explanations)

#### 1. Developer & Version Control
ุชุจุฏุฃ ุงูุนูููุฉ ุนูุฏูุง ูููู ุงููุทูุฑ ุจุฅุฌุฑุงุก ุชุบููุฑุงุช ูุญููุฉ ุซู `git push` ุฅูู ุงููุฑุน ุงูุฑุฆูุณู ูู GitHub. GitHub ูุนูู ูู Source of Truth ุงููุฑูุฒู.

#### 2. Webhook Trigger & Jenkins Orchestrator
`git push` ูุทูู Webhook ูุณุจู ุงูุชูููู ูู GitHub ูุฑุณู ุฅุดุนุงุฑ HTTP POST ุฅูู Jenkins ุนูู EC2. Jenkins ูุจุฏุฃ Pipeline Job ุงููุญุฏุฏ ูู Jenkinsfile.

#### 3. Quality Gates
- **Lint Check**: ุชุญููู ุงูููุฏ ุจุงุณุชุฎุฏุงู flake8
- **Security Scan**: ูุญุต ุงูุซุบุฑุงุช ุงูุฃูููุฉ ุจุงุณุชุฎุฏุงู safety
- **Unit Tests**: ุชุดุบูู ุงุฎุชุจุงุฑุงุช pytest

#### 4. Container Build
ุจูุงุก ุตูุฑุฉ Docker ุจุงุณุชุฎุฏุงู Dockerfile ูุชุณููุฉ ุงูุตูุฑุฉ ุจู Git commit hash ู `latest` tag.

#### 5. Production Deployment
ุฅููุงู ุงูุญุงููุฉ ุงููุฏููุฉ ูุชุดุบูู ุงูุญุงููุฉ ุงูุฌุฏูุฏุฉ ุนูู Port 5000 ูุน ุฅุนุฏุงุฏุงุช ุงูุดุจูุฉ ูุงูDNS ุงููุทููุจุฉ ูููุตูู ุฅูู RDS.

#### 6. Database Interaction
ุชุทุจูู Flask ุฏุงุฎู ุงูุญุงููุฉ ูุชุตู ุจู Amazon RDS MySQL ูุญูุธ ูุงุณุชุฑุฌุงุน ุจูุงูุงุช ุงูุชููููุงุช.

#### 7. End User Access
ุงููุณุชุฎุฏููู ูุตููู ููุชุทุจูู ุนุจุฑ Public IP ุงูุฎุงุต ุจู EC2 ุนูู Port 5000.

---

## ๐๏ธ ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ

### Backend
| ุงูุชูููุฉ | ุงูุฅุตุฏุงุฑ | ุงูุงุณุชุฎุฏุงู |
|---------|---------|-----------|
| **Python** | 3.9+ | ูุบุฉ ุงูุจุฑูุฌุฉ ุงูุฑุฆูุณูุฉ |
| **Flask** | Latest | ุฅุทุงุฑ ุนูู ุงูููุจ |
| **MySQL Connector** | Latest | ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช |

### Frontend
| ุงูุชูููุฉ | ุงูุงุณุชุฎุฏุงู |
|---------|-----------|
| **HTML5** | ูููู ุงูุตูุญุงุช |
| **CSS3** | ุงูุชุตููู ูุงูุชูุณูู |
| **JavaScript** | ุงูุชูุงุนููุฉ |
| **Chart.js** | ุงูุฑุณูู ุงูุจูุงููุฉ |
| **Font Awesome** | ุงูุฃููููุงุช |
| **Google Fonts (Tajawal)** | ุงูุฎุทูุท ุงูุนุฑุจูุฉ |

### DevOps & Infrastructure
| ุงูุชูููุฉ | ุงูุงุณุชุฎุฏุงู |
|---------|-----------|
| **Docker** | Containerization |
| **Jenkins** | CI/CD Pipeline |
| **AWS EC2** | ุงูุงุณุชุถุงูุฉ ุงูุณุญุงุจูุฉ |
| **MySQL** | ูุงุนุฏุฉ ุงูุจูุงูุงุช |
| **Git** | ุฅุฏุงุฑุฉ ุงูููุฏ |

### Testing & Quality
| ุงูุฃุฏุงุฉ | ุงูุงุณุชุฎุฏุงู |
|-------|-----------|
| **Pytest** | ุงุฎุชุจุงุฑุงุช ุงููุญุฏุฉ |
| **Flake8** | ูุญุต ุฌูุฏุฉ ุงูููุฏ |
| **Safety** | ูุญุต ุงูุฃูุงู |

---

## ๐ฆ ุงููุชุทูุจุงุช

### ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ
- **Python** 3.8 ุฃู ุฃุญุฏุซ
- **MySQL Server** 8.0 ุฃู ุฃุญุฏุซ
- **Docker** 20.10 ุฃู ุฃุญุฏุซ
- **Jenkins** 2.400 ุฃู ุฃุญุฏุซ (ููู CI/CD)
- **Git** ูุฃุฏุงุฑุฉ ุงูููุฏ

### ูููุทูุฑูู
- **pip** (Python Package Manager)
- **virtualenv** (ูุณุชุญุณู)
- **AWS Account** (ูููุดุฑ ุงูุณุญุงุจู)

---

## ๐ ุงูุชุซุจูุช ูุงูุชุดุบูู

### 1๏ธโฃ ุงุณุชูุณุงุฎ ุงููุดุฑูุน

```bash
git clone https://github.com/hussamAl-hasoun/my-clean-project.git
cd my-clean-project
```

### 2๏ธโฃ ุฅุนุฏุงุฏ ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ

```bash
# ุฅูุดุงุก ุจูุฆุฉ ุงูุชุฑุงุถูุฉ
python3 -m venv venv

# ุชูุนูู ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ
# ุนูู Linux/Mac:
source venv/bin/activate
# ุนูู Windows:
venv\Scripts\activate
```

### 3๏ธโฃ ุชุซุจูุช ุงููุชุทูุจุงุช

```bash
pip install --upgrade pip setuptools wheel
pip install -r requirements.txt
```

### 4๏ธโฃ ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช

ุงููุดุฑูุน ูุณุชุฎุฏู **Amazon RDS MySQL**. ูุงุนุฏุฉ ุงูุจูุงูุงุช ุชููุดุฃ ุชููุงุฆูุงู ูู ุฎูุงู ุฏุงูุฉ `setup_database()` ูู `app.py` ุนูุฏ ุฃูู ุชุดุบูู.

#### ูุนูููุงุช ุงูุงุชุตุงู ุงูุงูุชุฑุงุถูุฉ (ููุฃูุงุฏููููู):
```python
DB_HOST = "172.31.92.137"  # RDS Endpoint
DB_USER = "admin"
DB_PASSWORD = "Aa001916"
DB_NAME = "coursereviews"
```

> โ๏ธ **ููุงุญุธุฉ**: ูู ุงูุฅูุชุงุฌุ ุงุณุชุฎุฏู Jenkins Credentials ุฃู AWS Secrets Manager ูุญูุงูุฉ ุงููุนูููุงุช ุงูุญุณุงุณุฉ

### 5๏ธโฃ ุชุดุบูู ุงูุชุทุจูู ูุญููุงู

```bash
python app.py
```

ุงูุชุทุจูู ุณูุนูู ุนูู: `http://localhost:5000`

> ๐ก **ููุงุญุธุฉ**: ููุชุดุบูู ุงููุญูู ุจุฏูู RDSุ ููููู ุชุนุฏูู `DB_HOST` ููุดูุฑ ุฅูู MySQL ูุญูู.

---

## ๐ณ ุงุณุชุฎุฏุงู Docker

### ุจูุงุก ุงูุตูุฑุฉ

```bash
docker build -t my-flask-app:latest .
```

### ุชุดุบูู ุงูุญุงููุฉ

```bash
docker run -d \
  --name my-flask-app-container \
  -p 5000:5000 \
  --network="host" \
  my-flask-app:latest
```

### ุงูุชุญูู ูู ุงูุญุงูุฉ

```bash
docker ps
docker logs my-flask-app-container
```

---

## ๐ ุฎุท ุงูุฃูุงุจูุจ ุงููุณุชูุฑ (CI/CD)

### Pipeline Stages

ูุชููู ุงูู Pipeline ูู **7 ูุฑุงุญู** ุฑุฆูุณูุฉ:

#### 1๏ธโฃ **Checkout Code**
```groovy
stage('1. Checkout Code') {
    steps {
        cleanWs()
        checkout scm
    }
}
```
- ุชูุธูู ูุณุงุญุฉ ุงูุนูู
- ุฌูุจ ุงูููุฏ ูู GitHub

#### 2๏ธโฃ **Setup Virtual Env & Install Dependencies**
```groovy
stage('2. Setup Virtual Env & Install Dependencies') {
    steps {
        sh 'python3 -m venv venv'
        sh '''
            source venv/bin/activate
            pip install --upgrade pip setuptools wheel
            pip install -r requirements.txt
        '''
    }
}
```
- ุฅูุดุงุก ุจูุฆุฉ Python ุงูุชุฑุงุถูุฉ
- ุชุซุจูุช ุฌููุน ุงููุชุทูุจุงุช

#### 3๏ธโฃ **Lint & Quality Check**
```groovy
stage('3. Lint & Quality Check') {
    steps {
        sh '''
            source venv/bin/activate
            flake8 . --count --select=E9,F63,F7,F82 --show-source --statistics
        '''
    }
}
```
- ูุญุต ุฌูุฏุฉ ุงูููุฏ ุจุงุณุชุฎุฏุงู Flake8
- ุงูุชุดุงู ุงูุฃุฎุทุงุก ุงูุจุฑูุฌูุฉ

#### 4๏ธโฃ **Security Scan**
```groovy
stage('4. Security Scan') {
    steps {
        sh '''
            source venv/bin/activate
            safety check -r requirements.txt
        '''
    }
}
```
- ูุญุต ุงูููุชุจุงุช ุงููุซุจุชุฉ ุจุญุซุงู ุนู ุงูุซุบุฑุงุช ุงูุฃูููุฉ

#### 5๏ธโฃ **Unit Tests**
```groovy
stage('5. Unit Tests') {
    steps {
        sh '''
            source venv/bin/activate
            pytest
        '''
    }
}
```
- ุชุดุบูู ุงุฎุชุจุงุฑุงุช ุงููุญุฏุฉ

#### 6๏ธโฃ **Build Docker Image**
```groovy
stage('6. Build Docker Image') {
    steps {
        script {
            def commitId = sh(script: 'git rev-parse --short HEAD', returnStdout: true).trim()
            sh "docker build -t my-flask-app:${commitId} ."
            sh "docker tag my-flask-app:${commitId} my-flask-app:latest"
        }
    }
}
```
- ุจูุงุก ุตูุฑุฉ Docker
- ูุถุน ุนูุงูุฉ ุจุงูู commit ID

#### 7๏ธโฃ **Deploy to Production**
```groovy
stage('7. Deploy to Production') {
    steps {
        script {
            sh 'docker stop my-flask-app-container || true'
            sh 'docker rm my-flask-app-container || true'
            sh 'docker run -d --network="host" --dns=8.8.8.8 --name my-flask-app-container -p 5000:5000 my-flask-app:latest'
        }
    }
}
```
- ุฅููุงู ุงูุญุงููุฉ ุงููุฏููุฉ
- ูุดุฑ ุงูุญุงููุฉ ุงูุฌุฏูุฏุฉ ุนูู Port 5000

### Post-Actions
```groovy
post {
    always {
        sh 'rm -rf venv'
        sh 'docker image prune -f'
    }
}
```
- ุชูุธูู ุงููููุงุช ุงููุคูุชุฉ
- ุญุฐู ุงูุตูุฑ ุบูุฑ ุงููุณุชุฎุฏูุฉ

---

## โ๏ธ ุงููุดุฑ ุนูู AWS EC2

### ูุชุทูุจุงุช ุงููุธุงู (System Requirements)

#### AWS Resources (Academic Account - voclabs):
- **EC2 Instance**: t3.small (Amazon Linux 2 AMI)
  - EBS Volume: 20GB
  - Public IP: ูุทููุจ
  - Security Group: Project-WebServer-SG
    - Inbound: Port 22 (SSH), Port 5000 (App), Port 8080 (Jenkins)
  
- **RDS Instance**: db.t4g.micro (Free Tier)
  - Engine: MySQL 8.0
  - Security Group: ูุณูุญ ุจู TCP 3306 ูู EC2 Security Group
  
- **Networking**: 
  - VPC: Default VPC
  - DNS Resolution: Enabled
  - DNS Hostnames: Enabled

#### Software Requirements:
- Docker 20.10+
- Jenkins 2.400+ with plugins:
  - Git Plugin
  - Docker Pipeline
  - Blue Ocean
- Python 3.9+
- mysql-client

### ุฎุทูุงุช ุงููุดุฑ ุงูุชูุตูููุฉ

#### 1. ุฅุนุฏุงุฏ EC2 Instance

```bash
# ุชุญุฏูุซ ุงููุธุงู
sudo yum update -y

# ุชุซุจูุช Docker
sudo yum install docker -y
sudo systemctl start docker
sudo systemctl enable docker
sudo usermod -aG docker ec2-user
sudo usermod -aG docker jenkins

# ุฒูุงุฏุฉ ุญุฌู EBS Volume (ุฅุฐุง ูุฒู ุงูุฃูุฑ)
sudo growpart /dev/xvda1 1
sudo resize2fs /dev/xvda1

# ุชุซุจูุช Jenkins
sudo yum install java-11-amazon-corretto -y
wget -O /etc/yum.repos.d/jenkins.repo https://pkg.jenkins.io/redhat-stable/jenkins.repo
sudo rpm --import https://pkg.jenkins.io/redhat-stable/jenkins.io.key
sudo yum install jenkins -y
sudo systemctl start jenkins
sudo systemctl enable jenkins

# ุชุซุจูุช ุฃุฏูุงุช ุงูุชุทููุฑ
sudo yum install python3-virtualenv git mysql -y
```

#### 2. ุชูููู Security Groups

**EC2 Security Group (Project-WebServer-SG)**:
- Inbound Rules:
  - SSH (22): ูู IP ูุญุฏุฏ ุฃู 0.0.0.0/0
  - Custom TCP (5000): 0.0.0.0/0 (ุงูุชุทุจูู)
  - Custom TCP (8080): 0.0.0.0/0 (Jenkins)

**RDS Security Group**:
- Inbound Rules:
  - MySQL (3306): ูู EC2 Security Group ID ุฃู Private IP

#### 3. ุชูููู Jenkins

1. ุงููุตูู ุฅูู Jenkins:
   ```bash
   # ุงุญุตู ุนูู Initial Password
   sudo cat /var/lib/jenkins/secrets/initialAdminPassword
   ```
   
2. ุงูุชุญ: `http://[EC2_Public_IP]:8080`

3. ุซุจุช Jenkins Plugins:
   - Git
   - Docker Pipeline
   - GitHub Integration
   - Blue Ocean

4. ุฅุนุฏุงุฏ GitHub Webhook:
   - ูู GitHub โ Settings โ Webhooks โ Add webhook
   - Payload URL: `http://[EC2_Public_IP]:8080/github-webhook/`
   - Content type: `application/json`
   - Events: Just the push event

#### 4. ุฅุนุฏุงุฏ Jenkins Pipeline Job

1. ุฃูุดุฆ **New Item** โ **Pipeline**
2. ุงุณู Job: `Graduation-Project-Pipeline`
3. ูู **Pipeline** section:
   - Definition: **Pipeline script from SCM**
   - SCM: **Git**
   - Repository URL: `https://github.com/hussamAl-hasoun/my-clean-project.git`
   - Branches: `*/main`
   - Script Path: `Jenkinsfile`
4. ูู **Build Triggers**:
   - โ GitHub hook trigger for GITScm polling

#### 5. ุชุดุบูู Pipeline ุชููุงุฆูุงู

- ุงุฏูุน ุฃู ุชุบููุฑ ุฅูู `main` branch ุนูู GitHub
- Webhook ุณูุดุบู Pipeline ุชููุงุฆูุงู
- ุฑุงูุจ ุงูุชูุฏู ูู Jenkins Blue Ocean UI

---

## ๐ ูููู ุงููุดุฑูุน

```
my-clean-project/
โ
โโโ ๐ app.py                    # ุงูุชุทุจูู ุงูุฑุฆูุณู (Flask)
โโโ ๐ณ Dockerfile                 # ุชูููู Docker
โโโ ๐ Jenkinsfile                # ุฎุท ุงูุฃูุงุจูุจ CI/CD
โโโ ๐ requirements.txt           # ูุชุทูุจุงุช Python
โโโ ๐งช test_app.py                # ุงุฎุชุจุงุฑุงุช ุงููุญุฏุฉ
โ
โโโ ๐ templates/                 # ููุงูุจ HTML
โ   โโโ about.html               # ุตูุญุฉ ุนู ุงููููุฉ
โ   โโโ reviews.html             # ุตูุญุฉ ุงูุชููููุงุช
โ   โโโ stats.html               # ุตูุญุฉ ุงูุฅุญุตุงุฆูุงุช
โ   โโโ courses.html             # ุตูุญุฉ ุงูููุฑุฑุงุช
โ
โโโ ๐ static/                    # ุงููููุงุช ุงูุซุงุจุชุฉ
โ   โโโ style.css                # ููู ุงูุชุตููู
โ   โโโ script.js                 # JavaScript ููุชููููุงุช
โ   โโโ stats.js                  # JavaScript ููุฅุญุตุงุฆูุงุช
โ   โโโ logo.jpg                  # ุดุนุงุฑ ุงููููุฉ
โ
โโโ ๐ .gitignore                 # ูููุงุช Git ุงููุชุฌุงููุฉ
```

---

## ๐ ุงูุฃูุงู

### ุงูุชุญูู ูู ุงููุฏุฎูุงุช
- โ ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ูุจู ุงูุฅุฏุฎุงู
- โ ุชูุธูู ุงูุจูุงูุงุช (trim, sanitize)
- โ ุงูุชุญูู ูู ุงูุทูู ูุงูุฃููุงุน

### ุญูุงูุฉ ูุงุนุฏุฉ ุงูุจูุงูุงุช
- โ ุงุณุชุฎุฏุงู Parameterized Queries
- โ ุญูุงูุฉ ูู SQL Injection
- โ ุงุณุชุฎุฏุงู Environment Variables ูููุนูููุงุช ุงูุญุณุงุณุฉ

### ุฌูุฏุฉ ุงูููุฏ
- โ ูุญุต ุงูููุฏ ุจุงุณุชุฎุฏุงู Flake8
- โ ูุญุต ุงูุฃูุงู ุจุงุณุชุฎุฏุงู Safety
- โ ุงุฎุชุจุงุฑุงุช ุชููุงุฆูุฉ

---

## ๐ ุงูุตูุญุงุช ุงูุฑุฆูุณูุฉ

| ุงูุตูุญุฉ | ุงููุณุงุฑ | ุงููุตู |
|--------|--------|-------|
| **ุงูุฑุฆูุณูุฉ** | `/` | ูุนูููุงุช ุนู ุงููููุฉ ุงูุชุทุจูููุฉ |
| **ุชูููู ุงูููุฑุฑุงุช** | `/reviews` | ุฅุถุงูุฉ ูุนุฑุถ ุงูุชููููุงุช |
| **ุงูุฅุญุตุงุฆูุงุช** | `/stats` | ุฅุญุตุงุฆูุงุช ูุชุญูููุงุช ุดุงููุฉ |
| **ุงูููุฑุฑุงุช ุงูุฏุฑุงุณูุฉ** | `/courses` | ูุงุฆูุฉ ุจุฌููุน ุงูููุฑุฑุงุช (21 ููุฑุฑ) |
| **ุนู ุงููููุฉ** | `/about` | ูุนูููุงุช ุชูุตูููุฉ ุนู ุงููููุฉ |

---

## ๐งช ุงูุงุฎุชุจุงุฑุงุช

### ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช

```bash
# ุชูุนูู ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ ุฃููุงู
source venv/bin/activate

# ุชุดุบูู ุงูุงุฎุชุจุงุฑุงุช
pytest

# ูุน ุงูุชุบุทูุฉ
pytest --cov=app test_app.py
```

### ูุญุต ุฌูุฏุฉ ุงูููุฏ

```bash
# Flake8
flake8 . --count --select=E9,F63,F7,F82 --show-source --statistics

# Safety (ูุญุต ุงูุฃูุงู)
safety check -r requirements.txt
```

---

## ๐ API Endpoints

| ุงูุทุฑููุฉ | ุงููุณุงุฑ | ุงููุตู | ุงูุงุณุชุฌุงุจุฉ |
|---------|--------|-------|-----------|
| `GET` | `/api/courses` | ุฌูุจ ูุงุฆูุฉ ุงูููุฑุฑุงุช | JSON array |
| `GET` | `/api/reviews` | ุฌูุจ ุฌููุน ุงูุชููููุงุช (Limit 1000) | JSON array |
| `POST` | `/api/reviews` | ุฅุถุงูุฉ ุชูููู ุฌุฏูุฏ | JSON status |

### ูุซุงู: ุฅุถุงูุฉ ุชูููู

```bash
curl -X POST http://localhost:5000/api/reviews \
  -H "Content-Type: application/json" \
  -d '{
    "studentName": "ุฃุญูุฏ ูุญูุฏ",
    "courseName": "ITCL101 - ุงูุจููุฉ ุงูุชุญุชูุฉ ูุฎุฏูุงุช ุงูุญูุณุจุฉ ุงูุณุญุงุจูุฉ",
    "rating": 4.5,
    "reviewText": "ููุฑุฑ ุฑุงุฆุน ููููุฏ ุฌุฏุงู..."
  }'
```

### Validation Rules

- **studentName**: 2-255 ุญุฑูุ ุฃุญุฑู ุนุฑุจูุฉ ููุท
- **courseName**: ูุฌุจ ุฃู ูููู ูู ูุงุฆูุฉ ุงูููุฑุฑุงุช ุงููุนุชูุฏุฉ
- **rating**: ุจูู 0.5 ู 5.0ุ ุจุฎุทูุงุช 0.5
- **reviewText**: 10-2000 ุญุฑู

---

## ๐ง ุงูุชูููู

### ูุชุบูุฑุงุช ุงูุจูุฆุฉ (ุงุฎุชูุงุฑู)

ุฃูุดุฆ ููู `.env`:

```env
DB_HOST=your_database_host
DB_USER=your_database_user
DB_PASSWORD=your_database_password
DB_NAME=coursereviews
FLASK_ENV=production
```

---

## ๐ ุงูููุฑุฑุงุช ุงูุฏุฑุงุณูุฉ

ุงููุดุฑูุน ูุฏุนู **21 ููุฑุฑ ุฏุฑุงุณู** ูู ุชุฎุตุต ุงูุญูุณุจุฉ ุงูุณุญุงุจูุฉ:

- ITCP101 - ุฃุณุงุณูุงุช ุชูููุฉ ุงููุนูููุงุช
- AHEC101 - ุงููุบุฉ ุงูุฅูุฌููุฒูุฉ ูุนููู ุงูุญุงุณุจ (1)
- ITCL101 - ุงูุจููุฉ ุงูุชุญุชูุฉ ูุฎุฏูุงุช ุงูุญูุณุจุฉ ุงูุณุญุงุจูุฉ
- ITBS106 - ุดุจูุงุช ุงูุญุงุณุจ
- ITBS104 - ูุธู ุงูุชุดุบูู
- ITBS103 - ุฃุณุงุณูุงุช ุงูุจุฑูุฌุฉ
- ... ูุงููุฒูุฏ

[ุนุฑุถ ุฌููุน ุงูููุฑุฑุงุช ูู ุงูููุฏ](app.py#L18-L27)

---

## ๐จโ๐ป ุงููุทูุฑูู

<div align="center">

<table>
<tr>
<td align="center">
<a href="https://github.com/hussamAl-hasoun">
<img src="https://via.placeholder.com/150/1e293b/FBBF24?text=H" width="100px;" alt=""/>
<br />
<sub><b>ุญุณุงู ุนุจุฏุงูุฑุญูู ุงูุญุณูู</b></sub>
</a>
<br />
ุงูุญูุณุจุฉ ุงูุณุญุงุจูุฉ
</td>
<td align="center">
<a href="#">
<img src="https://via.placeholder.com/150/1e293b/FBBF24?text=H" width="100px;" alt=""/>
<br />
<sub><b>ููุซู ูุญูุฏ ุงููุฑูุด</b></sub>
</a>
<br />
ุงูุญูุณุจุฉ ุงูุณุญุงุจูุฉ
</td>
</tr>
</table>

**ุงููููุฉ ุงูุชุทุจูููุฉ - ุฌุงูุนุฉ ุงููุตูู**

</div>

---

## ๐ ูุนูููุงุช ุงููุดุฑูุน

- **ุงููููุฉ**: ุงููููุฉ ุงูุชุทุจูููุฉ
- **ุงูุฌุงูุนุฉ**: ุฌุงูุนุฉ ุงููุตูู
- **ุงูุชุฎุตุต**: ุงูุญูุณุจุฉ ุงูุณุญุงุจูุฉ
- **ููุน ุงููุดุฑูุน**: ูุดุฑูุน ุชุฎุฑุฌ
- **ุงูุณูุฉ**: 2025

---

## ๐ ุงูุชูุงุตู

- **ุงููููุน ุงูุฅููุชุฑููู**: [www.qu.edu.sa/colleges/qac](https://www.qu.edu.sa/colleges/qac)
- **ุงูุจุฑูุฏ ุงูุฅููุชุฑููู**: qac@qu.edu.sa
- **ุงููุงุชู**: 0163015605 (ุงูุชุญูููุฉ: 15605)
- **ุงููููุน**: ุฌุงูุนุฉ ุงููุตูู - ุจุฑูุฏุฉุ ููุทูุฉ ุงููุตูู

---

## ๐ ุงูุฎูุงุตุฉ ูุงูุงุณุชูุชุงุฌุงุช (Conclusion)

ูุฐุง ุงููุดุฑูุน ูุซุจุช ุจุดูู ุนููู **ูุงุจููุฉ ุงูุชุทุจูู ูููุงุฆุฏ ุชูููุฐ ุฎุท ุฃูุงุจูุจ CI/CD ููู**ุ ุญุชู ูู ุธู ุงููููุฏ ุงูุจูุฆูุฉ ุงูุตุนุจุฉ. ูู ุฎูุงู ุงููุซุงุจุฑุฉ ูุญู ุงููุดุงูู ุงููููุฌูุ ุชู ุชุญููู ูุธุงู ุฃุชูุชุฉ ูุงูู ููุดุฑ ุชุทุจูู ููุจ ุญุฏูุซ ุจุงุณุชุฎุฏุงู ุฃุฏูุงุช ูุนูุงุฑูุฉ ูู ุงูุตูุงุนุฉ ูุซู Jenkins ู Docker ุนูู AWS.

### ุงูุฅูุฌุงุฒุงุช ุงูุฑุฆูุณูุฉ
โ ุชูููุฐ ุฎุท ุฃูุงุจูุจ CI/CD ุขูู ุจุงููุงูู ุจุงุณุชุฎุฏุงู Jenkins ู Docker ุนูู AWS  
โ ุชุทุจูู ุนููู ูุจููุฉ ุซูุงุซูุฉ ุงูุทุจูุงุช ูุน ูุงุนุฏุฉ ุจูุงูุงุช RDS  
โ ุชูุงูู ุณูุณ ุจูู GitHub ู Jenkins ุนุจุฑ Webhooks  
โ ุงูุชุบูุจ ุนูู ุชุญุฏูุงุช ุชูููุฉ ูุนูุฏุฉ (IAM, Networking, Resource Management)  
โ ูุธุงู ูุงุจู ููุชูุฑุงุฑ ูุงูุงุนุชูุงุฏ ุนููู ูุน ูุฑุงูุจุฉ ุจุตุฑูุฉ ุนุจุฑ Jenkins Blue Ocean  

### ุงูุชูุตูุงุช
- ุชุทุจูู ุงุฎุชุจุงุฑุงุช ุดุงููุฉ (unit, integration, E2E)
- ุชุญุณูู ุงูุฃูุงู ุจุงุณุชุฎุฏุงู Jenkins Credentials
- ุงุณุชูุดุงู ุงุณุชุฑุงุชูุฌูุงุช ูุดุฑ ูุชูุฏูุฉ ูุซู Blue-Green
- ุชูุงูู ูุฑุงูุจุฉ ูุฅูุฐุงุฑ ูุชูุฏู ุจุงุณุชุฎุฏุงู CloudWatch
- ุชุญุณูู ุฃููุงุช ุจูุงุก Docker ุจุงุณุชุฎุฏุงู layer caching

## ๐ ุงูุฑุฎุตุฉ

ยฉ 2025 ุฌููุน ุงูุญููู ูุญููุธุฉ - ุงููููุฉ ุงูุชุทุจูููุฉ ุจุฌุงูุนุฉ ุงููุตูู

ูุฐุง ุงููุดุฑูุน ูู **ูุดุฑูุน ุชุฎุฑุฌ ุชุนูููู** ูุทูุงุจ ุชุฎุตุต ุงูุญูุณุจุฉ ุงูุณุญุงุจูุฉ.

---

## ๐ ุงููููุฌูุฉ (Methodology)

ุงููุดุฑูุน ุงุชุจุน ููุฌุงู ุชูุฑุงุฑูุงู ูุงุฆูุงู ุนูู ุญู ุงููุดููุงุช ุงุณุชุฌุงุจุฉ ููููุฏ ุจูุฆูุฉ ูุจูุฑุฉ. ุงููุณุงุฑ ุงูุชุทูุฑู:

### ุงููุฑุญูุฉ 1: ุงูุงุณุชูุดุงู ุงูุฃููู (Alibaba Cloud)
- ูุญุงููุฉ ุงุณุชุฎุฏุงู Alibaba Cloud Flow (ุฎุฏูุฉ CI/CD ููุฏุงุฑุฉ)
- **ุงููุดู**: ุนุฏู ุงุณุชูุฑุงุฑ ุงูุฎุฏูุฉ (502 errors)ุ ูููุฏ ุฅูููููุฉุ ููุต ุงูุฏุนู ุงูููุฑู

### ุงููุฑุญูุฉ 2: ุงูุชุญูู ุฅูู AWS (ูููุฏ ุงูุญุณุงุจ ุงูุฃูุงุฏููู)
- ูุญุงููุฉ ุงุณุชุฎุฏุงู AWS CodePipeline ู CodeBuild
- **ุงููุดู**: ูููุฏ IAM ุดุฏูุฏุฉ ูู ุญุณุงุจ voclabs ุงูุฃูุงุฏููู ุชููุน ุฅูุดุงุก IAM roles ูุงูุงุชุตุงูุงุช ุงููุทููุจุฉ

### ุงููุฑุญูุฉ 3: ูุญุงููุฉ Workaround (GitHub Actions + SSH)
- ุงุณุชุฑุงุชูุฌูุฉ ุงุณุชุฎุฏุงู GitHub Actions ููู SSH ูุจุงุดุฑุฉ ุฅูู EC2
- **ุงูุตุนูุจุงุช**: ุตุนูุจุฉ ุฅุฏุงุฑุฉ ุงูุชุจุนูุงุชุ ููุต ุงููุฑุงูุจุฉ ุงูุจุตุฑูุฉุ ุชุนููุฏุงุช SSH authentication

### ุงููุฑุญูุฉ 4: ุงูุญู ุงูููุงุฆู โ (Jenkins on EC2 + RDS)
- **ุงูุญู ุงููุงุฌุญ**: ุชุซุจูุช Jenkins ู Docker ุนูู EC2 instance (t3.small)
- **ุงููุงุฆุฏุฉ**: ุชุญูู ูุงูู ูู CI/CD ูุน ุงุญุชุฑุงู ูููุฏ ุงูุญุณุงุจ
- **ุงููุชูุฌุฉ**: ุฃุชูุชุฉ ูุงููุฉ ูุน Pipeline visual (Blue Ocean) ูุจููุฉ ุงุญุชุฑุงููุฉ

---

## ๐ ุงููุชุงุฆุฌ ูุงูููุงูุดุฉ (Results and Discussion)

> **ููุงุญุธุฉ**: ูุฐุง ุงููุณู ูุนุชูุฏ ุนูู ุงูุชูุฑูุฑ ุงูููุงุฆู ูููุดุฑูุน (Final Project Report: Design and Implementation of a CI/CD Pipeline for a Web Application using Jenkins and Docker on AWS)

### 3.1 ุงููุชุงุฆุฌ ุงูุชุฌุฑูุจูุฉ (Experimental Results)

#### โ ูุฌุงุญ Pipeline ุงููุชุณู
ุงูุฎุท ุงูุฃูุงุจูุจ ุฃุธูุฑ ูุฌุงุญุงู ูุชุณูุงู ูู ุจูุงุก ูุงุฎุชุจุงุฑ (ุจุดูู ุฃุณุงุณู) ููุดุฑ ุชุทุจูู "ููุตุฉ ุชูููู ุงูููุฑุฑุงุช" ุชููุงุฆูุงู ุนูุฏ ุชุบููุฑุงุช ุงูููุฏ:

- **ูุฏุฉ ุงูุชูููุฐ**: 2-3 ุฏูุงุฆู ูู ุงูุจุฏุงูุฉ ููููุงูุฉ (7 ูุฑุงุญู ูุงููุฉ)
- **ูุนุฏู ุงููุฌุงุญ**: 100% ุจุนุฏ ุฅููุงู ุงูุชูููู ูุงูุชุตุญูุญ
- **ุงูููุงุฑูุฉ**: ุชูููู ุงูููุช ูู ุณุงุนุงุช/ุฃูุงู (ูุฏูู) ุฅูู ุฏูุงุฆู (ุขูู)

#### โ ุงูุชุญูู ูู ุงููุดุฑ
- โ **GitHub Repository**: ูุณุชุถูู ุจูุฌุงุญ ุงููุณุฎุฉ ุงูููุงุฆูุฉ ูู ุงูููุฏ ูุงููููุงุช ุงูุชูููููุฉ
- โ **Jenkins Pipeline Execution**: ูุงุฌูุฉ Blue Ocean ุชุนุฑุถ ุชูููุฐุงุช ูุงุฌุญุฉ ุจุงุณุชูุฑุงุฑ
- โ **Successful Deployment Logs**: ุณุฌูุงุช Jenkins ุชุคูุฏ ุฅููุงู ุงูุญุงููุฉ ุงููุฏููุฉ ูุจุฏุก ุงูุฌุฏูุฏุฉ
- โ **Running Application**: ุงูุชุทุจูู ูุชุงุญ ุจุงุณุชูุฑุงุฑ ุนูู `http://[EC2_IP]:5000`
- โ **Database Persistence**: ุงูุชุญูู ุงููุจุงุดุฑ ุนุจุฑ MySQL client ูุคูุฏ ุฅูุดุงุก `coursereviews` database ู `reviews` table ูุญูุธ ุงูุจูุงูุงุช ุจุดูู ุฏุงุฆู

#### โ ููุงููุณ ุงูุฃุฏุงุก (Performance Evaluation)
- **Lead Time for Changes**: ูู Code Commit ุฅูู Production ูู **2-3 ุฏูุงุฆู**
- **Deployment Frequency**: ูู push ูุคุฏู ุฅูู ูุดุฑ ุชููุงุฆู (Push-to-Deploy)
- **Change Failure Rate**: **0%** ุจุนุฏ ุฅุตูุงุญ ุงููุดุงูู ุงูุฃูููุฉ
- **Success Rate**: **100%** ูููุดุฑุงุช ุงูุตุงูุญุฉ
- **Pipeline Duration**: 2-3 ุฏูุงุฆู (ุชุญุณู ูุจูุฑ ุนู ุงูุนูููุฉ ุงููุฏููุฉ)

### 3.2 ุงูุชุญุฏูุงุช ูุงูุญููู ุงูุชูุตูููุฉ (Challenges & Solutions)

ุงููุดุฑูุน ุชููุฒ ุจุนุฏุฏ ูุจูุฑ ูู ุงูุชุญุฏูุงุช ุงููุนูุฏุฉ ุงูุชู ููุฑุช ุฎุจุฑุฉ ูููุฉ ูู ุงูููุฏุณุฉ ุงูุญููููุฉ:

#### 1. ูููุฏ ููุตุฉ ุงูุณุญุงุจุฉ ูุงูุญุณุงุจ (Cloud Platform & Account Limitations)

**ุงููุดููุฉ**:
- ูุญุงููุงุช ุนูู Alibaba Cloud ู AWS ูุดูุช ุจุณุจุจ:
  - ุนุฏู ุชููุฑ ุงูุฎุฏูุงุช (Beta)
  - ูููุฏ ุฅูููููุฉ
  - ูููุฏ IAM ุดุฏูุฏุฉ ุชููุน ุงุณุชุฎุฏุงู ุฎุฏูุงุช CI/CD ุงูููุฏุงุฑุฉ

**ุงูุญู**:
- ุชุจูู ููุฌ self-managed ุจุงุณุชุฎุฏุงู Jenkins ุนูู EC2
- ุชูููุฑ ุชุญูู ูุงูู ูู ุนูููุฉ CI/CD ูุน ุงุญุชุฑุงู ูููุฏ ุงูุญุณุงุจ

#### 2. ุงุณุชููุงุฏ ููุงุฑุฏ EC2 (EC2 Resource Exhaustion)

**ุงููุดููุฉ**:
- ุงุณุชุฎุฏุงู instances ุตุบูุฑุฉ (t2.nano, t3.micro) ุฃุฏู ุฅูู:
  - ูุณุงุญุฉ ูุฑุต ุบูุฑ ูุงููุฉ (ุฎุงุตุฉ ูู `/tmp` ุจุณุจุจ tmpfs mounting)
  - RAM ุบูุฑ ูุงูู (OOM Killer ูููู Docker/Jenkins/SSH)

**ุงูุญููู ุงููุทุจูุฉ**:
```bash
# ุฒูุงุฏุฉ ุญุฌู EBS volume
sudo growpart /dev/xvda1 1
sudo resize2fs /dev/xvda1

# ุชุนุทูู tmpfs mount
sudo systemctl mask tmp.mount

# ุชุฑููุฉ Instance Type
# t2.nano โ t3.micro โ t3.small (2GiB RAM)

# Docker restart policy
docker run --restart always ...
```

#### 3. ุชุนููุฏุงุช ุงูุดุจูุฉ (Networking Complexities)

**ุฃ. EC2 Access (SSH)**:
- **ุงููุดููุฉ**: Connection timed out
- **ุงูุฃุณุจุงุจ**: Security Group rules ูููุฏุฉ ุฃู firewalls ูุญููุฉ
- **ุงูุญู**: ุชูููู Security Group ููุณูุงุญ ุจู SSH (port 22) ูู 0.0.0.0/0 ูุงูุชุญูู ูู Network ACLs

**ุจ. RDS Access (MySQL)**:
- **ุงููุดููุฉ**: Unknown host / Connection timeout / Connection refused
- **ุงูุญููู**:
  1. ุชูุนูู VPC DNS resolution ู DNS hostnames
  2. ุชูููู RDS Security Group Inbound rule:
     - Allow TCP 3306 ูู EC2 Security Group ID
     - ุฃู ูู EC2 Private IP (/32)
  3. ุงุฎุชุจุงุฑ ุงูุงุชุตุงู ุงููุจุงุดุฑ:
     ```bash
     telnet [RDS_ENDPOINT] 3306
     mysql -h [RDS_ENDPOINT] -u admin -p
     ```

**ุฌ. Docker DNS Resolution**:
- **ุงููุดููุฉ**: Unknown host ูู ุฏุงุฎู ุงูุญุงููุฉ ุญุชู ูุน `--network="host"`
- **ุงูุญู**: ุฅุถุงูุฉ `--dns=8.8.8.8` ูู docker run command

#### 4. ูุดุงูู ุงูุฃุฏูุงุช ูุงูุชุจุนูุงุช (Tooling & Dependency Issues)

**ุงููุดุงูู**:
- `command not found` ูุฃุฏูุงุช: mysql, pip3, flake8, telnet
- GPG check FAILED ุนูุฏ ุฅุถุงูุฉ MySQL repository
- ุชุนุงุฑุถุงุช ุจูู pip ู yum (Cannot uninstall setuptools)

**ุงูุญููู**:
```bash
# ุงุณุชุฎุฏุงู ุฃุณูุงุก ุงูุญุฒู ุงูุตุญูุญุฉ ููุธุงู ุงูุชุดุบูู
sudo yum install mysql-client mariadb python3-pip python3-virtualenv -y

# ุฅุถุงูุฉ MySQL repository ูุน ุชุฌุงูู GPG ูุคูุชุงู
sudo yum install --nogpgcheck mysql80-community-release -y

# ุงูุชุญูู ุงููุงูู ูุงุณุชุฎุฏุงู Python virtual environments
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

#### 5. ูุดุงูู ุงูุชุทุจูู ูู Docker

**ุงููุดููุฉ**: Container exiting immediately (Exited (2))
- **ุงูุณุจุจ**: CMD ุบูุฑ ุตุญูุญ ูู Dockerfile
- **ุงูุญู**: ุชุตุญูุญ Dockerfile CMD ุฅูู:
  ```dockerfile
  CMD ["python3", "-u", "app.py"]
  ```
- **ุงูุชุญูู**: ุงูุชุฃูุฏ ูู ูุฌูุฏ `app.run(host='0.0.0.0', ...)` ูู app.py

#### 6. ูุดุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

**ุงููุดููุฉ**: Unknown column 'rating' ุจุนุฏ ุฅุถุงูุฉ ููุฒุฉ ุงูุชูููู
- **ุงูุญู**: ุฌุนู ุฏุงูุฉ `setup_database()` idempotent:
  ```python
  # ุงูุชุญูู ูู ูุฌูุฏ ุงูุนููุฏ ูุจู ุงูุฅุถุงูุฉ
  cursor.execute(f"""
      SELECT COUNT(*) FROM information_schema.COLUMNS
      WHERE TABLE_SCHEMA = '{DB_NAME}' 
      AND TABLE_NAME = 'reviews' 
      AND COLUMN_NAME = 'rating';
  """)
  ```

### 3.3 ุงูุฏุฑูุณ ุงููุณุชูุงุฏุฉ (Lessons Learned)

1. **ุงููุฑููุฉ ุถุฑูุฑูุฉ**: ุงูุจูุฆุงุช ุงููููุฏุฉ (ุฎุงุตุฉ ุงูุญุณุงุจุงุช ุงูุฃูุงุฏูููุฉ) ุชุชุทูุจ ุญููู ุจุฏููุฉ ูุงุจุฏุงุน
2. **ุฅุฏุงุฑุฉ ุงูููุงุฑุฏ ุญุฑุฌุฉ**: ุงูุชุฎุทูุท ุงูุตุญูุญ ููู Disk/RAM ูููุฑ ุณุงุนุงุช ูู ุงูุชุตุญูุญ
3. **ุงูุชุดุฎูุต ุงููููุฌู**: ุงูุงุนุชูุงุฏ ุนูู Logs (Jenkins, Docker, System) ู network diagnostic tools (ping, telnet, nslookup) ูุงู ุฃุณุงุณูุงู
4. **Pipeline as Code ูููุฉ**: ุชุนุฑูู Pipeline ูู Jenkinsfile ูุงู ูุง ููุฏุฑ ุจุซูู ููุชุญูู ูู ุงูุฅุตุฏุงุฑุงุชุ ุงูุชูุฑุงุฑุ ูุณูููุฉ ุงูุชุนุฏูู
5. **Security Groups ูุชุนุฏุฏุฉ ุงูุทุจูุงุช**: ููู ุงูุชูุงุนู ุจูู EC2 Security Groups ู RDS Security Groups ู Network ACLs ุญููู ููุงุชุตุงู ุงูุตุญูุญ

### 3.4 ูููุฏ ุงููุดุฑูุน (Limitations)

- **Single Application Scope**: Pipeline ุญุงููุงู ูุตูู ูุชุทุจูู Flask ูุงุญุฏ
- **Basic Deployment Strategy**: ุงุณุชุฎุฏุงู ุทุฑููุฉ stop-and-start ุจุณูุทุฉ ุจุฏูุงู ูู ุงุณุชุฑุงุชูุฌูุงุช zero-downtime ูุชูุฏูุฉ (Blue-Green, Canary)
- **Rudimentary Security**: ุจูููุง credentials ุบูุฑ hardcodedุ ุฅุฏุงุฑุฉ ุงูุฃุณุฑุงุฑ ูููู ุชุญุณูููุง ุจุงุณุชุฎุฏุงู Jenkins Credentials ุฃู secrets manager
- **Minimal Testing**: ูุฑุญูุฉ Unit Tests ุชุญุชูู ุนูู test case ูุงุญุฏ ุฃุณุงุณู ููุท

### 3.5 ุงูููุงูุดุฉ (Discussion)

ูุฐุง ุงููุดุฑูุน ูุฎุฏู ูุฏููู ุนููู ูููุน ุนูู **ุงูููุฉ ุงูุชุญููููุฉ ูุฎุทูุท ุฃูุงุจูุจ CI/CD**. ุงูุฃุชูุชุฉ ุงููุญููุฉ ุชุนุฒุฒ ุงูููุซูููุฉ ุจุดูู ูุจูุฑ ูู ุฎูุงู ุชูุญูุฏ ุนูููุฉ ุงููุดุฑ ูุงูุณุฑุนุฉ ูู ุฎูุงู ุชูููู ุงูุชูุฑุงุฑ ุงูุณุฑูุน. ุชูุงูู quality gatesุ ุญุชู ุนูู ูุณุชูู ุฃุณุงุณูุ ูููุฑ ุดุจูุฉ ุฃูุงู ุฃุณุงุณูุฉ ุถุฏ ุฅุฏุฎุงู regressions.

ุฑุจูุง ุงููุชูุฌุฉ ุงูุฃูุซุฑ ุนููุงู ูุงูุช ุงูุชุนูู ุงููุณุชูุฏ ูู ุงูุชุบูุจ ุนูู ุงูุชุญุฏูุงุช ุงูุชูููุฉ ุงูุนุฏูุฏุฉ. ุงูุชููู ูู ูููุฏ ุญุณุงุจุงุช ุงูุณุญุงุจุฉุ ูููุฏ ุงูููุงุฑุฏุ ุชููููุงุช ุงูุดุจูุฉ ุงููุนูุฏุฉุ ูุนุฏู ุชูุงูู ุงูุฃุฏูุงุช ููุฑ ุฎุจุฑุฉ ููุฏุณูุฉ ูุง ุชูุฏุฑ ุจุซูู ูู ุงูุนุงูู ุงูุญูููู ุชุชุฌุงูุฒ ุจูุซูุฑ ุงูููู ุงููุธุฑู.

ุงูุญู ุงูููุงุฆูุ ุงูุฐู ูุณุชููุฏ ูู Jenkins ู Docker ุนูู EC2ุ ุฃุซุจุช ุฃูู ุจููุฉ ูุฑูุฉ ููุงุจูุฉ ููุชููู ูุงุฏุฑุฉ ุนูู ุชูุฏูู ุงูุฃุชูุชุฉ ุงููุทููุจุฉ ุฑุบู ุงููููุฏ ุงูุจูุฆูุฉ ุงูุฃูููุฉ.

---

## ๐ฏ ุฎุงุฑุทุฉ ุงูุทุฑูู ุงููุณุชูุจููุฉ (Future Work - Section 3.5)

### ุชุญุณููุงุช ูุตูุฑุฉ ุงููุฏู
- [ ] **Comprehensive Testing**: ุชูุณูุน ูุฑุญูุฉ Unit Tests ุจุดูู ูุจูุฑ ูุฅุถุงูุฉ Integration Tests ุชุชุญูู ูู ุงูุชูุงุนู ุจูู Flask app ู RDS database
- [ ] **Stricter Quality Gates**: ุชูููู ูุฑุงุญู Lint, Security, Test ููุดู Pipeline (`sh '...'` ุจุฏูู `|| echo "..."`) ุนูุฏ ุงูุชุดุงู ุฃู ูุดุงูู ูุจูุฑุฉ
- [ ] **Advanced Secrets Management**: ุชูุงูู Jenkins Credentials plugin ูุฅุฏุงุฑุฉ DB_PASSWORD ุจุดูู ุขูู

### ุชุญุณููุงุช ูุชูุฏูุฉ
- [ ] **Blue-Green Deployment**: ุชุนุฏูู Jenkinsfile ูุฅุถุงูุฉ Nginx reverse proxy ูุชุทุจูู ุงุณุชุฑุงุชูุฌูุฉ Blue-Green deploymentุ ููุง ูุณูุญ ุจู zero-downtime releases
- [ ] **Enhanced Monitoring**: ุชูุงูู AWS CloudWatch Logs ูุณุฌูุงุช ุงูุชุทุจูู ูุฅุนุฏุงุฏ CloudWatch Alarms ุฃู Prometheus/Grafana stack ููุฑุงูุจุฉ ุงูุฃุฏุงุก ูุฅูุฐุงุฑุงุช ุฃูุซุฑ ุชูุตููุงู
- [ ] **Pipeline Optimization**: ุงูุชุญููู ูู Docker layer caching ูJenkins workspace caching ูุชูููู ููุช ุชูููุฐ Pipelineุ ุฑุบู ุฃู ุงูุฃููุงุช ุงูุญุงููุฉ ููุจููุฉ

---

## ๐ค ุงููุณุงููุฉ

ูุฐุง ูุดุฑูุน ุชุฎุฑุฌ ุชุนูููู. ูููุดุงุฑูุฉ:

1. Fork ุงููุดุฑูุน
2. ุฃูุดุฆ Branch ุฌุฏูุฏ (`git checkout -b feature/AmazingFeature`)
3. Commit ุงูุชุบููุฑุงุช (`git commit -m 'Add some AmazingFeature'`)
4. Push ููู Branch (`git push origin feature/AmazingFeature`)
5. ุงูุชุญ Pull Request

---

## โญ ุฅุธูุงุฑ ุงูุฏุนู

ุฅุฐุง ุฃุนุฌุจู ูุฐุง ุงููุดุฑูุนุ ููููู โญ ุฅุถุงูุฉ ูุฌูุฉ ูููุณุชูุฏุน!

---

<div align="center">

**ุตููุน ุจู โค๏ธ ูู ูุจู ุทูุงุจ ุงููููุฉ ุงูุชุทุจูููุฉ - ุฌุงูุนุฉ ุงููุตูู**

[โฌ ุงูุนูุฏุฉ ููุฃุนูู](#-ูุธุงู-ุชูููู-ุงูููุฑุฑุงุช-ุงูุฏุฑุงุณูุฉ---ุงููููุฉ-ุงูุชุทุจูููุฉ)

</div>

